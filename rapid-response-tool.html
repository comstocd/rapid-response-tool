<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Rapid Response Tool</title>
    <link rel="apple-touch-icon" href="caduceus.png">
    <link rel="apple-touch-icon" sizes="180x180" href="caduceus.png">
    <meta name="apple-mobile-web-app-title" content="RRT">
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            font-size: 10pt;
            line-height: 1.4;
            margin: 0;
            padding: 0;
            color: #24292e;
            background: #f6f8fa;
        }
        
        .calculator {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .calculator-title {
            font-weight: 600;
            color: #856404;
            font-size: 11pt;
            margin-bottom: 10px;
        }
        
        .calc-item {
            margin: 12px 0;
            padding: 8px;
            background: white;
            border-radius: 4px;
            border: 1px solid #e8e8e8;
        }
        
        .calc-item label {
            display: block;
            font-weight: 600;
            margin-bottom: 6px;
            color: #333;
            font-size: 9.5pt;
        }
        
        .calc-item .hint {
            display: block;
            font-size: 8pt;
            color: #666;
            font-weight: normal;
            margin-top: 2px;
            font-style: italic;
        }
        
        .calc-item select, .calc-item input[type="number"] {
            width: 100%;
            padding: 8px 10px;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-size: 9.5pt;
            background: white;
            transition: border-color 0.2s;
        }
        
        .calc-item select:focus, .calc-item input[type="number"]:focus {
            outline: none;
            border-color: #0366d6;
            box-shadow: 0 0 0 3px rgba(3, 102, 214, 0.1);
        }
        
        .calc-item input[type="number"]::placeholder {
            color: #999;
            font-style: italic;
        }
        
        .calc-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-right: 8px;
            cursor: pointer;
            vertical-align: middle;
        }
        
        .calc-item.checkbox-item {
            padding: 10px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .calc-item.checkbox-item:hover {
            background: #f8f9fa;
        }
        
        .calc-item.checkbox-item label {
            cursor: pointer;
            margin: 0;
            display: inline;
            font-weight: 500;
        }
        
        .calc-result {
            background: #d4edda;
            border: 2px solid #28a745;
            padding: 12px;
            margin-top: 12px;
            border-radius: 6px;
            font-weight: 600;
        }
        
        .calc-result.high-risk {
            background: #f8d7da;
            border-color: #dc3545;
        }
        
        .calc-button {
            background: #0366d6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 9pt;
            margin-top: 10px;
        }
        
        .calc-button:hover {
            background: #0256c7;
        }
        
        .calc-description {
            font-size: 9pt;
            color: #666;
            margin-top: 8px;
            padding: 8px;
            background: #f9f9f9;
            border-radius: 4px;
        }
        

        
        body {
            background: #1a202c;
            padding: 0;
            margin: 0;
        }
    </style>
</head>
<body>
    <div id="rr-modal" style="  top: 0; left: 0; width: 100%; height: 100%; background: #1a202c;  overflow-y: auto;">
        <div style="background: white; max-width: 1600px; margin: 20px auto; border-radius: 12px; padding: 30px; position: relative;">
            <button  style="position: absolute; top: 15px; right: 15px; background: #e74c3c; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: bold; z-index: 10;">‚úï Close</button>
            
            <h2 style="color: #e74c3c; margin-top: 0;">üö® COMPREHENSIVE RAPID RESPONSE ASSESSMENT</h2>
            <p style="color: #666; font-size: 10pt;">Complete systematic evaluation following rapid response protocols</p>
            
            <form id="rr-form">
                
                <!-- SECTION 1: IDENTIFICATION AND CONTEXT -->
                <div style="background: #fff3cd; border: 2px solid #ffc107; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <h3 style="color: #856404; margin-top: 0; font-size: 13pt; border-bottom: 2px solid #ffc107; padding-bottom: 10px;">ü©∫ 1. IDENTIFICATION & CONTEXT</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px;">
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Patient Name:</label>
                            <input type="text" id="rr-name" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Age:</label>
                            <input type="number" id="rr-age" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Gender:</label>
                            <select id="rr-gender" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                                <option value="">Select...</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">MRN:</label>
                            <input type="text" id="rr-mrn" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Location:</label>
                            <input type="text" id="rr-location" placeholder="Floor/Unit/Room" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Code Status:</label>
                            <select id="rr-code" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                                <option value="Full Code">Full Code</option>
                                <option value="DNR">DNR</option>
                                <option value="DNI">DNI</option>
                                <option value="DNR/DNI">DNR/DNI</option>
                                <option value="Comfort Care">Comfort Care</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Time of Activation:</label>
                            <input type="time" id="rr-time" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                    <div style="margin-top: 15px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Reason for Activation:</label>
                            <select id="rr-activation-reason" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                                <option value="">Select reason...</option>
                                <option value="Respiratory distress">Respiratory distress</option>
                                <option value="Altered mental status">Altered mental status</option>
                                <option value="Hypotension">Hypotension</option>
                                <option value="Tachycardia">Tachycardia</option>
                                <option value="Acute desaturation">Acute desaturation</option>
                                <option value="Chest pain">Chest pain</option>
                                <option value="Seizure">Seizure</option>
                                <option value="Staff concern">Staff concern</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Time Course:</label>
                            <select id="rr-timecourse" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                                <option value="">Select...</option>
                                <option value="Acute (<15min)">Acute (<15min)</option>
                                <option value="Subacute (15-60min)">Subacute (15-60min)</option>
                                <option value="Gradual (>1hr)">Gradual (>1hr)</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-top: 15px;">
                        <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Symptom Progression:</label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center;"><input type="radio" name="rr-progression" value="Worsening" style="margin-right: 8px;"> Worsening</label>
                            <label style="display: flex; align-items: center;"><input type="radio" name="rr-progression" value="Stable" style="margin-right: 8px;"> Stable</label>
                            <label style="display: flex; align-items: center;"><input type="radio" name="rr-progression" value="Improving" style="margin-right: 8px;"> Improving</label>
                        </div>
                    </div>
                    <div style="margin-top: 15px;">
                        <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Recent Procedures/Changes (check all that apply):</label>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; font-size: 9pt;">
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-recent" value="surgery" style="margin-right: 8px;"> Recent surgery</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-recent" value="transfusion" style="margin-right: 8px;"> Transfusion</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-recent" value="line-placement" style="margin-right: 8px;"> Line placement</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-recent" value="new-medication" style="margin-right: 8px;"> New medication</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-recent" value="procedure" style="margin-right: 8px;"> Procedure today</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-recent" value="medication-change" style="margin-right: 8px;"> Medication change</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-recent" value="fall" style="margin-right: 8px;"> Recent fall</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-recent" value="dialysis" style="margin-right: 8px;"> Dialysis today</label>
                        </div>
                    </div>
                </div>

                <!-- SECTION 2: VITAL SIGNS & MONITORING -->
                <div style="background: #f8d7da; border: 2px solid #e74c3c; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <h3 style="color: #721c24; margin-top: 0; font-size: 13pt; border-bottom: 2px solid #e74c3c; padding-bottom: 10px;">üìã 2. VITAL SIGNS & MONITORING</h3>
                    <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 12px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">HR (bpm):</label>
                            <input type="number" id="rr-hr" placeholder="60-100" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">SBP (mmHg):</label>
                            <input type="number" id="rr-sbp" placeholder="90-140" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">DBP (mmHg):</label>
                            <input type="number" id="rr-dbp" placeholder="60-90" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">RR (br/min):</label>
                            <input type="number" id="rr-rr" placeholder="12-20" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">SpO2 (%):</label>
                            <input type="number" id="rr-spo2" placeholder="92-100" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">Temp (¬∞F):</label>
                            <input type="number" id="rr-temp" placeholder="98.6" step="0.1" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">O2 Device:</label>
                            <select id="rr-o2-device" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 9pt;">
                                <option value="Room Air">Room Air</option>
                                <option value="Nasal Cannula">Nasal Cannula</option>
                                <option value="Face Mask">Face Mask</option>
                                <option value="Non-Rebreather">Non-Rebreather</option>
                                <option value="High-Flow NC">High-Flow NC</option>
                                <option value="BiPAP">BiPAP</option>
                                <option value="CPAP">CPAP</option>
                                <option value="Ventilator">Ventilator</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">O2 Flow/FiO2:</label>
                            <input type="text" id="rr-o2-flow" placeholder="e.g., 4L, 40%" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">Cardiac Rhythm:</label>
                            <input type="text" id="rr-rhythm" placeholder="NSR, AF, etc." style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">Capnography (if avail):</label>
                            <input type="number" id="rr-etco2" placeholder="35-45 mmHg" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">Urine Output (recent):</label>
                            <input type="text" id="rr-uop" placeholder="ml/hr or recent void" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">Vital Sign Trend:</label>
                            <input type="text" id="rr-trend" placeholder="e.g., BP dropping over 2hrs" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px; font-size: 10pt;">
                        </div>
                    </div>
                </div>

                <!-- SECTION 3: PRIMARY ASSESSMENT (ABCs) -->
                <div style="background: #d1ecf1; border: 2px solid #17a2b8; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <h3 style="color: #0c5460; margin-top: 0; font-size: 13pt; border-bottom: 2px solid #17a2b8; padding-bottom: 10px;">üíâ 3. FOCUSED PRIMARY ASSESSMENT (ABCs)</h3>
                    
                    <!-- AIRWAY -->
                    <div style="margin-bottom: 15px;">
                        <h4 style="color: #0c5460; margin: 0 0 8px 0; font-size: 11pt;">A - AIRWAY</h4>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; font-size: 9pt;">
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-airway" value="patent" style="margin-right: 8px;"> Patent</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-airway" value="needs-support" style="margin-right: 8px;"> Needs support</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-airway" value="needs-suction" style="margin-right: 8px;"> Needs suction</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-airway" value="gurgling" style="margin-right: 8px;"> Gurgling</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-airway" value="stridor" style="margin-right: 8px;"> Stridor</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-airway" value="snoring" style="margin-right: 8px;"> Snoring</label>
                        </div>
                    </div>
                    
                    <!-- BREATHING -->
                    <div style="margin-bottom: 15px;">
                        <h4 style="color: #0c5460; margin: 0 0 8px 0; font-size: 11pt;">B - BREATHING</h4>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; font-size: 9pt;">
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-breathing" value="labored" style="margin-right: 8px;"> Labored effort</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-breathing" value="accessory-muscles" style="margin-right: 8px;"> Accessory muscles</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-breathing" value="asymmetric" style="margin-right: 8px;"> Asymmetric</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-breathing" value="wheezing" style="margin-right: 8px;"> Wheezing</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-breathing" value="rales" style="margin-right: 8px;"> Rales/Crackles</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-breathing" value="decreased-bs" style="margin-right: 8px;"> Decreased BS</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-breathing" value="shallow" style="margin-right: 8px;"> Shallow</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-breathing" value="apneic-episodes" style="margin-right: 8px;"> Apneic episodes</label>
                        </div>
                    </div>
                    
                    <!-- CIRCULATION -->
                    <div style="margin-bottom: 15px;">
                        <h4 style="color: #0c5460; margin: 0 0 8px 0; font-size: 11pt;">C - CIRCULATION</h4>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; font-size: 9pt;">
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-circulation" value="pale" style="margin-right: 8px;"> Pale</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-circulation" value="cyanotic" style="margin-right: 8px;"> Cyanotic</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-circulation" value="mottled" style="margin-right: 8px;"> Mottled</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-circulation" value="diaphoretic" style="margin-right: 8px;"> Diaphoretic</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-circulation" value="cool-extremities" style="margin-right: 8px;"> Cool extremities</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-circulation" value="weak-pulses" style="margin-right: 8px;"> Weak pulses</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-circulation" value="delayed-cap-refill" style="margin-right: 8px;"> Delayed cap refill</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-circulation" value="jvd" style="margin-right: 8px;"> JVD</label>
                        </div>
                    </div>
                    
                    <!-- DISABILITY -->
                    <div style="margin-bottom: 15px;">
                        <h4 style="color: #0c5460; margin: 0 0 8px 0; font-size: 11pt;">D - DISABILITY (Neuro)</h4>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                            <div>
                                <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">GCS:</label>
                                <input type="number" id="rr-gcs" placeholder="3-15" min="3" max="15" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px;">
                            </div>
                            <div>
                                <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">Pupils:</label>
                                <input type="text" id="rr-pupils" placeholder="PERRL, unequal, etc." style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px;">
                            </div>
                            <div>
                                <label style="display: block; font-weight: 600; margin-bottom: 3px; font-size: 9pt;">Mental Status:</label>
                                <select id="rr-mental-status" style="width: 100%; padding: 6px; border: 2px solid #ddd; border-radius: 4px;">
                                    <option value="Alert & Oriented x4">Alert & Oriented x4</option>
                                    <option value="Alert & Oriented x3">Alert & Oriented x3</option>
                                    <option value="Confused">Confused</option>
                                    <option value="Lethargic">Lethargic</option>
                                    <option value="Obtunded">Obtunded</option>
                                    <option value="Unresponsive">Unresponsive</option>
                                </select>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; font-size: 9pt; margin-top: 8px;">
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-neuro" value="focal-deficit" style="margin-right: 8px;"> Focal deficit</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-neuro" value="seizure-activity" style="margin-right: 8px;"> Seizure activity</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-neuro" value="posturing" style="margin-right: 8px;"> Posturing</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-neuro" value="facial-droop" style="margin-right: 8px;"> Facial droop</label>
                        </div>
                    </div>
                    
                    <!-- EXPOSURE -->
                    <div>
                        <h4 style="color: #0c5460; margin: 0 0 8px 0; font-size: 11pt;">E - EXPOSURE</h4>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; font-size: 9pt;">
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-exposure" value="rash" style="margin-right: 8px;"> Rash</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-exposure" value="bleeding" style="margin-right: 8px;"> Active bleeding</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-exposure" value="trauma" style="margin-right: 8px;"> Trauma/injury</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-exposure" value="surgical-site" style="margin-right: 8px;"> Surgical site concern</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-exposure" value="iv-concern" style="margin-right: 8px;"> IV/line concern</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-exposure" value="drain-concern" style="margin-right: 8px;"> Drain concern</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-exposure" value="edema" style="margin-right: 8px;"> Significant edema</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-exposure" value="jaundice" style="margin-right: 8px;"> Jaundice</label>
                        </div>
                    </div>
                </div>

                <!-- SECTION 4: PERTINENT HISTORY -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div style="background: #d4edda; border: 2px solid #28a745; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #155724; margin-top: 0; font-size: 13pt; border-bottom: 2px solid #28a745; padding-bottom: 10px;">üìñ 4. PERTINENT HISTORY</h3>
                        <div style="margin-bottom: 12px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Admission Diagnosis:</label>
                            <input type="text" id="rr-admit-dx" placeholder="Primary reason for hospitalization" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                        </div>
                        <div style="margin-bottom: 12px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Allergies:</label>
                            <input type="text" id="rr-allergies" placeholder="NKDA or list" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                        </div>
                        <div style="margin-bottom: 12px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Baseline Function:</label>
                            <select id="rr-baseline" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                                <option value="Independent">Independent</option>
                                <option value="Ambulatory with assist">Ambulatory with assist</option>
                                <option value="Wheelchair-bound">Wheelchair-bound</option>
                                <option value="Bedbound">Bedbound</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Baseline Mental Status:</label>
                            <input type="text" id="rr-baseline-mental" placeholder="e.g., A&O x3 at baseline" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>

                    <div style="background: #d4edda; border: 2px solid #28a745; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #155724; margin-top: 0; font-size: 13pt; border-bottom: 2px solid #28a745; padding-bottom: 10px;">Major Comorbidities</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 9pt;">
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="cad" style="margin-right: 8px;"> CAD/Prior MI</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="chf" style="margin-right: 8px;"> CHF</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="afib" style="margin-right: 8px;"> Atrial Fibrillation</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="htn" style="margin-right: 8px;"> Hypertension</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="copd" style="margin-right: 8px;"> COPD</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="asthma" style="margin-right: 8px;"> Asthma</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="dm" style="margin-right: 8px;"> Diabetes</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="ckd" style="margin-right: 8px;"> CKD</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="esrd" style="margin-right: 8px;"> ESRD on Dialysis</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="cirrhosis" style="margin-right: 8px;"> Cirrhosis</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="cancer" style="margin-right: 8px;"> Active Malignancy</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="immunosupp" style="margin-right: 8px;"> Immunosuppressed</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="stroke-hx" style="margin-right: 8px;"> Prior Stroke/TIA</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="seizure-hx" style="margin-right: 8px;"> Seizure Disorder</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="dvt-pe-hx" style="margin-right: 8px;"> Prior DVT/PE</label>
                            <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-pmh" value="etoh" style="margin-right: 8px;"> Alcohol Use Disorder</label>
                        </div>
                    </div>
                </div>

                <!-- SECTION 5: RECENT DATA & INTERVENTIONS -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div style="background: #e2e3e5; border: 2px solid #6c757d; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #383d41; margin-top: 0; font-size: 13pt; border-bottom: 2px solid #6c757d; padding-bottom: 10px;">üß™ 5. KEY RECENT DATA</h3>
                        <div style="margin-bottom: 12px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Recent Labs (key values):</label>
                            <textarea id="rr-labs" placeholder="e.g., Hgb 7, Cr 2.5, K 6.2, Lactate 4" style="width: 100%; height: 60px; padding: 8px; border: 2px solid #ddd; border-radius: 4px; resize: vertical; font-size: 9pt;"></textarea>
                        </div>
                        <div style="margin-bottom: 12px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Recent Imaging:</label>
                            <textarea id="rr-imaging" placeholder="e.g., CXR: bilateral infiltrates" style="width: 100%; height: 60px; padding: 8px; border: 2px solid #ddd; border-radius: 4px; resize: vertical; font-size: 9pt;"></textarea>
                        </div>
                        <div style="margin-bottom: 12px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Recent Glucose:</label>
                            <input type="number" id="rr-glucose" placeholder="mg/dL" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Fluid Balance (24hr):</label>
                            <input type="text" id="rr-fluids" placeholder="e.g., +2L, even, -500mL" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>

                    <div style="background: #fff3cd; border: 2px solid #ffc107; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #856404; margin-top: 0; font-size: 13pt; border-bottom: 2px solid #ffc107; padding-bottom: 10px;">‚öôÔ∏è 6. INTERVENTIONS PRIOR TO ARRIVAL</h3>
                        <div style="margin-bottom: 12px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">What has been tried?</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 9pt;">
                                <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-interventions" value="o2-started" style="margin-right: 8px;"> O2 started/increased</label>
                                <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-interventions" value="fluids-given" style="margin-right: 8px;"> Fluids given</label>
                                <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-interventions" value="meds-given" style="margin-right: 8px;"> Medications given</label>
                                <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-interventions" value="airway-repositioned" style="margin-right: 8px;"> Airway repositioned</label>
                                <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-interventions" value="suctioned" style="margin-right: 8px;"> Suctioned</label>
                                <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-interventions" value="glucose-check" style="margin-right: 8px;"> Glucose checked</label>
                                <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-interventions" value="position-changed" style="margin-right: 8px;"> Position changed</label>
                                <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-interventions" value="narcan-given" style="margin-right: 8px;"> Narcan given</label>
                            </div>
                        </div>
                        <div style="margin-bottom: 12px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Medications/Fluids Given (specify):</label>
                            <textarea id="rr-meds-given" placeholder="e.g., NS 500mL bolus, albuterol neb" style="width: 100%; height: 60px; padding: 8px; border: 2px solid #ddd; border-radius: 4px; resize: vertical; font-size: 9pt;"></textarea>
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Response to Interventions:</label>
                            <select id="rr-response" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                                <option value="">Select...</option>
                                <option value="Improved">Improved</option>
                                <option value="No change">No change</option>
                                <option value="Worsened">Worsened</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- CRITICAL MEDICATIONS -->
                <div style="background: #f8d7da; border: 2px solid #e74c3c; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <h3 style="color: #721c24; margin-top: 0; font-size: 13pt; border-bottom: 2px solid #e74c3c; padding-bottom: 10px;">üíä CRITICAL HOME MEDICATIONS</h3>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; font-size: 9pt;">
                        <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-meds" value="anticoag" style="margin-right: 8px;"> Anticoagulation</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-meds" value="antiplatelet" style="margin-right: 8px;"> Antiplatelet (ASA/Plavix)</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-meds" value="insulin" style="margin-right: 8px;"> Insulin</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-meds" value="steroids" style="margin-right: 8px;"> Chronic Steroids</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-meds" value="chemo" style="margin-right: 8px;"> Chemotherapy</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-meds" value="immunosupp-med" style="margin-right: 8px;"> Immunosuppressants</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-meds" value="opioids" style="margin-right: 8px;"> Chronic Opioids</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-meds" value="benzos" style="margin-right: 8px;"> Benzodiazepines</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-meds" value="antihypertensives" style="margin-right: 8px;"> Antihypertensives</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" class="rr-meds" value="diuretics" style="margin-right: 8px;"> Diuretics</label>
                    </div>
                </div>

                <!-- ADDITIONAL NOTES & DISPOSITION -->
                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border: 2px solid #6c757d;">
                        <h3 style="color: #383d41; margin-top: 0; font-size: 13pt;">üìù ADDITIONAL CLINICAL NOTES</h3>
                        <textarea id="rr-notes" placeholder="Any other relevant clinical information, team communication, or concerns..." style="width: 100%; height: 150px; padding: 10px; border: 2px solid #ddd; border-radius: 4px; font-family: Arial, sans-serif; resize: vertical; font-size: 10pt;"></textarea>
                    </div>

                    <div style="background: #d1ecf1; padding: 20px; border-radius: 8px; border: 2px solid #17a2b8;">
                        <h3 style="color: #0c5460; margin-top: 0; font-size: 13pt;">üß≠ 7. DISPOSITION PLAN</h3>
                        <div style="margin-bottom: 12px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Initial Plan:</label>
                            <select id="rr-disposition" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 4px;">
                                <option value="">Select...</option>
                                <option value="Stabilize on floor">Stabilize on floor</option>
                                <option value="Escalate to ICU">Escalate to ICU</option>
                                <option value="Transfer to telemetry">Transfer to telemetry</option>
                                <option value="Stat consult needed">Stat consult needed</option>
                                <option value="Observation">Close observation</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; font-size: 9pt;">Team Communication:</label>
                            <textarea id="rr-team-comm" placeholder="Who was notified? (attending, ICU, primary team)" style="width: 100%; height: 80px; padding: 8px; border: 2px solid #ddd; border-radius: 4px; resize: vertical; font-size: 9pt;"></textarea>
                        </div>
                    </div>
                </div>

                <!-- ACTION BUTTONS -->
                <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                    <button type="button" onclick="generateDifferential()" style="background: #27ae60; color: white; border: none; padding: 18px 50px; font-size: 14pt; font-weight: bold; border-radius: 8px; cursor: pointer; margin-right: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.2);">
                        üîç GENERATE ASSESSMENT & DIFFERENTIAL
                    </button>
                    <button type="button" onclick="clearRRForm()" style="background: #95a5a6; color: white; border: none; padding: 18px 40px; font-size: 12pt; font-weight: bold; border-radius: 8px; cursor: pointer;">
                        Clear Form
                    </button>
                </div>
            </form>
            
            <!-- RESULTS SECTION -->
            <div id="rr-results" style=" margin-top: 30px; padding-top: 30px; border-top: 4px solid #e74c3c;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 style="color: #e74c3c; margin: 0;">üìä COMPREHENSIVE RAPID RESPONSE ASSESSMENT</h2>
                    <div>
                        <button onclick="saveRapidResponse()" style="background: #3498db; color: white; border: none; padding: 12px 24px; font-size: 11pt; font-weight: bold; border-radius: 6px; cursor: pointer; margin-right: 10px;">
                            üíæ Save Assessment
                        </button>
                        <button onclick="printAssessment()" style="background: #16a085; color: white; border: none; padding: 12px 24px; font-size: 11pt; font-weight: bold; border-radius: 6px; cursor: pointer; margin-right: 10px;">
                            üñ®Ô∏è Print
                        </button>
                        <button onclick="copyNote()" style="background: #f39c12; color: white; border: none; padding: 12px 24px; font-size: 11pt; font-weight: bold; border-radius: 6px; cursor: pointer; margin-right: 10px;">
                            üìã Copy Note
                        </button>
                        <button onclick="copyForGlass()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 12px 24px; font-size: 11pt; font-weight: bold; border-radius: 6px; cursor: pointer;">
                            ü§ñ Copy for Glass AI
                        </button>
                    </div>
                </div>
                
                <div id="rr-output" style="background: #f8f9fa; padding: 25px; border-radius: 8px; font-family: 'Courier New', monospace; font-size: 9pt; line-height: 1.7; border: 2px solid #dee2e6;">
                    <!-- Results will be dynamically generated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- SAVED RESPONSES MODAL -->
    <div id="saved-modal" style="  top: 0; left: 0; width: 100%; height: 100%; background: #1a202c;  overflow-y: auto;">
        <div style="background: white; max-width: 1200px; margin: 20px auto; border-radius: 12px; padding: 30px; position: relative;">
            <button onclick="closeSavedResponses()" style="position: absolute; top: 15px; right: 15px; background: #e74c3c; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: bold;">‚úï Close</button>
            
            <h2 style="color: #3498db; margin-top: 0;">üìã Saved Rapid Response Assessments</h2>
            <div id="saved-list" style="margin-top: 20px;">
                <!-- Saved items will be loaded here -->
            </div>
        </div>
    </div>
    


<script>
        function clearRRForm() {
            if (confirm('Clear all form data?')) {
                document.getElementById('rr-form').reset();
                document.getElementById('rr-results').style.display = 'none';
            }
        }
        
        function generateDifferential() {
            // SECTION 1: Identification & Context
            const patientData = {
                name: document.getElementById('rr-name').value,
                age: document.getElementById('rr-age').value,
                gender: document.getElementById('rr-gender').value,
                mrn: document.getElementById('rr-mrn').value,
                location: document.getElementById('rr-location').value,
                code: document.getElementById('rr-code').value,
                time: document.getElementById('rr-time').value,
                activationReason: document.getElementById('rr-activation-reason').value,
                timeCourse: document.getElementById('rr-timecourse').value,
                progression: document.querySelector('input[name="rr-progression"]:checked')?.value || ''
            };
            
            const recentEvents = Array.from(document.querySelectorAll('.rr-recent:checked')).map(cb => cb.value);
            
            // SECTION 2: Vital Signs & Monitoring
            const vitals = {
                hr: parseInt(document.getElementById('rr-hr').value) || null,
                sbp: parseInt(document.getElementById('rr-sbp').value) || null,
                dbp: parseInt(document.getElementById('rr-dbp').value) || null,
                rr: parseInt(document.getElementById('rr-rr').value) || null,
                spo2: parseInt(document.getElementById('rr-spo2').value) || null,
                temp: parseFloat(document.getElementById('rr-temp').value) || null,
                o2Device: document.getElementById('rr-o2-device').value,
                o2Flow: document.getElementById('rr-o2-flow').value,
                rhythm: document.getElementById('rr-rhythm').value,
                etco2: document.getElementById('rr-etco2').value,
                uop: document.getElementById('rr-uop').value,
                trend: document.getElementById('rr-trend').value
            };
            
            // SECTION 3: Primary Assessment (ABCs)
            const airway = Array.from(document.querySelectorAll('.rr-airway:checked')).map(cb => cb.value);
            const breathing = Array.from(document.querySelectorAll('.rr-breathing:checked')).map(cb => cb.value);
            const circulation = Array.from(document.querySelectorAll('.rr-circulation:checked')).map(cb => cb.value);
            const neuro = Array.from(document.querySelectorAll('.rr-neuro:checked')).map(cb => cb.value);
            const exposure = Array.from(document.querySelectorAll('.rr-exposure:checked')).map(cb => cb.value);
            
            const disability = {
                gcs: parseInt(document.getElementById('rr-gcs').value) || null,
                pupils: document.getElementById('rr-pupils').value,
                mentalStatus: document.getElementById('rr-mental-status').value
            };
            
            // SECTION 4: Pertinent History
            const history = {
                admitDx: document.getElementById('rr-admit-dx').value,
                allergies: document.getElementById('rr-allergies').value,
                baseline: document.getElementById('rr-baseline').value,
                baselineMental: document.getElementById('rr-baseline-mental').value
            };
            
            const pmh = Array.from(document.querySelectorAll('.rr-pmh:checked')).map(cb => cb.value);
            
            // SECTION 5: Recent Data & Interventions
            const recentData = {
                labs: document.getElementById('rr-labs').value,
                imaging: document.getElementById('rr-imaging').value,
                glucose: document.getElementById('rr-glucose').value,
                fluids: document.getElementById('rr-fluids').value
            };
            
            const interventions = Array.from(document.querySelectorAll('.rr-interventions:checked')).map(cb => cb.value);
            const medsGiven = document.getElementById('rr-meds-given').value;
            const response = document.getElementById('rr-response').value;
            
            // Critical Medications
            const meds = Array.from(document.querySelectorAll('.rr-meds:checked')).map(cb => cb.value);
            
            // Additional Notes & Disposition
            const notes = document.getElementById('rr-notes').value;
            const disposition = document.getElementById('rr-disposition').value;
            const teamComm = document.getElementById('rr-team-comm').value;
            
            // DIFFERENTIAL DIAGNOSIS SCORING
            const scores = {};
            const allFindings = [...airway, ...breathing, ...circulation, ...neuro, ...exposure];
            
            for (const [key, condition] of Object.entries(differentialDB)) {
                let score = 0;
                
                // Score based on activation reason if it matches triggers
                if (condition.triggers && patientData.activationReason) {
                    const reasonKey = patientData.activationReason.toLowerCase().replace(/ /g, '-');
                    if (condition.triggers[reasonKey]) score += condition.triggers[reasonKey];
                }
                
                // Vital signs scoring
                if (condition.vitals && vitals) {
                    if (vitals.hr) {
                        if (condition.vitals.hr?.high && vitals.hr > 100) score += condition.vitals.hr.high;
                        if (condition.vitals.hr?.low && vitals.hr < 60) score += condition.vitals.hr.low;
                    }
                    if (vitals.sbp) {
                        if (condition.vitals.sbp?.low && vitals.sbp < 90) score += condition.vitals.sbp.low;
                        if (condition.vitals.sbp?.veryHigh && vitals.sbp > 180) score += condition.vitals.sbp.veryHigh;
                    }
                    if (vitals.rr && condition.vitals.rr?.high && vitals.rr > 20) score += condition.vitals.rr.high;
                    if (vitals.spo2 && condition.vitals.spo2?.low && vitals.spo2 < 92) score += condition.vitals.spo2.low;
                    if (vitals.temp) {
                        if (condition.vitals.temp?.high && vitals.temp > 100.4) score += condition.vitals.temp.high;
                        if (condition.vitals.temp?.low && vitals.temp < 96) score += condition.vitals.temp.low;
                    }
                    if (disability.gcs && condition.vitals.gcs?.low && disability.gcs < 13) score += condition.vitals.gcs.low;
                }
                
                // PMH scoring
                if (condition.pmh) {
                    pmh.forEach(p => {
                        if (condition.pmh[p]) score += condition.pmh[p];
                    });
                }
                
                // Exam findings scoring
                if (condition.exam) {
                    allFindings.forEach(finding => {
                        if (condition.exam[finding]) score += condition.exam[finding];
                    });
                }
                
                if (score > 0) {
                    scores[key] = {
                        name: condition.name,
                        link: condition.link,
                        score: score
                    };
                }
            }
            
            const sortedDiff = Object.entries(scores).sort((a, b) => b[1].score - a[1].score).slice(0, 10);
            const timestamp = new Date().toLocaleString();
            
            // GENERATE COMPREHENSIVE OUTPUT
            let output = `<div style="font-family: 'Courier New', monospace;">`;
            output += `<strong style="font-size: 12pt;">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>\n`;
            output += `<strong style="font-size: 12pt;">           COMPREHENSIVE RAPID RESPONSE ASSESSMENT</strong>\n`;
            output += `<strong style="font-size: 12pt;">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>\n\n`;
            
            output += `<strong>Generated:</strong> ${timestamp}\n`;
            output += `<strong>Assessment by:</strong> ${patientData.name ? 'Dr. [Your Name]' : '[Clinician Name]'}\n\n`;
            
            // SECTION 1: Patient Identification
            output += `<strong style="color: #856404;">ü©∫ PATIENT IDENTIFICATION & CONTEXT</strong>\n`;
            output += `${'‚îÄ'.repeat(70)}\n`;
            output += `<strong>Patient:</strong> ${patientData.name || '[Not provided]'} | <strong>Age:</strong> ${patientData.age || 'Unknown'} | <strong>Gender:</strong> ${patientData.gender || 'Unknown'}\n`;
            output += `<strong>MRN:</strong> ${patientData.mrn || 'Not provided'} | <strong>Location:</strong> ${patientData.location || 'Not specified'} | <strong>Code Status:</strong> <span style="font-weight: bold; color: #e74c3c;">${patientData.code}</span>\n`;
            output += `<strong>Time of Activation:</strong> ${patientData.time || 'Not recorded'}\n`;
            output += `<strong>Reason for Activation:</strong> ${patientData.activationReason || 'Not specified'}\n`;
            output += `<strong>Time Course:</strong> ${patientData.timeCourse || 'Unknown'} | <strong>Progression:</strong> ${patientData.progression || 'Not assessed'}\n`;
            if (recentEvents.length > 0) {
                output += `<strong>Recent Events:</strong> ${recentEvents.map(e => e.replace(/-/g, ' ')).join(', ')}\n`;
            }
            output += `\n`;
            
            // SECTION 2: Vital Signs & Monitoring
            output += `<strong style="color: #721c24;">üìã VITAL SIGNS & MONITORING</strong>\n`;
            output += `${'‚îÄ'.repeat(70)}\n`;
            output += `<strong>HR:</strong> ${vitals.hr || '___'} bpm`;
            if (vitals.hr) {
                if (vitals.hr > 120) output += ` <span style="color: #e74c3c; font-weight: bold;">‚ö† SEVERE TACHYCARDIA</span>`;
                else if (vitals.hr > 100) output += ` <span style="color: #f39c12; font-weight: bold;">‚ö† TACHYCARDIA</span>`;
                else if (vitals.hr < 50) output += ` <span style="color: #e74c3c; font-weight: bold;">‚ö† SEVERE BRADYCARDIA</span>`;
                else if (vitals.hr < 60) output += ` <span style="color: #f39c12; font-weight: bold;">‚ö† BRADYCARDIA</span>`;
            }
            output += `\n<strong>BP:</strong> ${vitals.sbp || '___'}/${vitals.dbp || '___'} mmHg`;
            if (vitals.sbp) {
                if (vitals.sbp < 90) output += ` <span style="color: #e74c3c; font-weight: bold;">‚ö† HYPOTENSION - CRITICAL</span>`;
                else if (vitals.sbp > 180) output += ` <span style="color: #e74c3c; font-weight: bold;">‚ö† HYPERTENSIVE URGENCY/EMERGENCY</span>`;
            }
            output += `\n<strong>RR:</strong> ${vitals.rr || '___'} breaths/min`;
            if (vitals.rr) {
                if (vitals.rr > 24) output += ` <span style="color: #e74c3c; font-weight: bold;">‚ö† TACHYPNEA</span>`;
                else if (vitals.rr < 10) output += ` <span style="color: #e74c3c; font-weight: bold;">‚ö† BRADYPNEA</span>`;
            }
            output += `\n<strong>SpO2:</strong> ${vitals.spo2 || '___'}%`;
            if (vitals.spo2) {
                if (vitals.spo2 < 88) output += ` <span style="color: #e74c3c; font-weight: bold;">‚ö† SEVERE HYPOXIA</span>`;
                else if (vitals.spo2 < 92) output += ` <span style="color: #f39c12; font-weight: bold;">‚ö† HYPOXIA</span>`;
            }
            output += ` on ${vitals.o2Device}`;
            if (vitals.o2Flow) output += ` @ ${vitals.o2Flow}`;
            output += `\n<strong>Temperature:</strong> ${vitals.temp || '___'}¬∞F`;
            if (vitals.temp) {
                if (vitals.temp > 103) output += ` <span style="color: #e74c3c; font-weight: bold;">‚ö† HIGH FEVER</span>`;
                else if (vitals.temp > 100.4) output += ` <span style="color: #f39c12; font-weight: bold;">‚ö† FEVER</span>`;
                else if (vitals.temp < 95) output += ` <span style="color: #e74c3c; font-weight: bold;">‚ö† HYPOTHERMIA</span>`;
            }
            if (vitals.rhythm) output += `\n<strong>Cardiac Rhythm:</strong> ${vitals.rhythm}`;
            if (vitals.etco2) output += `\n<strong>EtCO2:</strong> ${vitals.etco2} mmHg`;
            if (vitals.uop) output += `\n<strong>Urine Output:</strong> ${vitals.uop}`;
            if (vitals.trend) output += `\n<strong>Vital Sign Trend:</strong> ${vitals.trend}`;
            output += `\n\n`;
            
            // SECTION 3: Primary Assessment (ABCs)
            output += `<strong style="color: #0c5460;">üíâ FOCUSED PRIMARY ASSESSMENT (ABCs)</strong>\n`;
            output += `${'‚îÄ'.repeat(70)}\n`;
            output += `<strong>A - AIRWAY:</strong> ${airway.length > 0 ? airway.map(a => a.replace(/-/g, ' ')).join(', ') : 'Not documented'}\n`;
            output += `<strong>B - BREATHING:</strong> ${breathing.length > 0 ? breathing.map(b => b.replace(/-/g, ' ')).join(', ') : 'Not documented'}\n`;
            output += `<strong>C - CIRCULATION:</strong> ${circulation.length > 0 ? circulation.map(c => c.replace(/-/g, ' ')).join(', ') : 'Not documented'}\n`;
            output += `<strong>D - DISABILITY (Neuro):</strong>\n`;
            output += `   GCS: ${disability.gcs || 'Not assessed'}`;
            if (disability.gcs) {
                if (disability.gcs <= 8) output += ` <span style="color: #e74c3c; font-weight: bold;">‚ö† SEVERE ALTERATION - CONSIDER AIRWAY PROTECTION</span>`;
                else if (disability.gcs < 13) output += ` <span style="color: #f39c12; font-weight: bold;">‚ö† ALTERED</span>`;
            }
            output += `\n   Pupils: ${disability.pupils || 'Not documented'}\n`;
            output += `   Mental Status: ${disability.mentalStatus}\n`;
            if (neuro.length > 0) output += `   Additional: ${neuro.map(n => n.replace(/-/g, ' ')).join(', ')}\n`;
            output += `<strong>E - EXPOSURE:</strong> ${exposure.length > 0 ? exposure.map(e => e.replace(/-/g, ' ')).join(', ') : 'No significant findings'}\n`;
            output += `\n`;
            
            // SECTION 4: Pertinent History
            output += `<strong style="color: #155724;">üìñ PERTINENT HISTORY</strong>\n`;
            output += `${'‚îÄ'.repeat(70)}\n`;
            output += `<strong>Admission Diagnosis:</strong> ${history.admitDx || 'Not provided'}\n`;
            output += `<strong>Allergies:</strong> ${history.allergies || 'Unknown'}\n`;
            output += `<strong>Baseline Function:</strong> ${history.baseline}\n`;
            output += `<strong>Baseline Mental Status:</strong> ${history.baselineMental || 'Unknown'}\n`;
            output += `<strong>Major Comorbidities:</strong> ${pmh.length > 0 ? pmh.map(p => p.toUpperCase()).join(', ') : 'None documented'}\n`;
            output += `<strong>Critical Medications:</strong> ${meds.length > 0 ? meds.map(m => m.replace(/-/g, ' ')).join(', ') : 'None documented'}\n`;
            output += `\n`;
            
            // SECTION 5: Recent Data & Interventions
            output += `<strong style="color: #383d41;">üß™ KEY RECENT DATA & INTERVENTIONS</strong>\n`;
            output += `${'‚îÄ'.repeat(70)}\n`;
            if (recentData.labs) output += `<strong>Recent Labs:</strong> ${recentData.labs}\n`;
            if (recentData.imaging) output += `<strong>Recent Imaging:</strong> ${recentData.imaging}\n`;
            if (recentData.glucose) output += `<strong>Recent Glucose:</strong> ${recentData.glucose} mg/dL\n`;
            if (recentData.fluids) output += `<strong>Fluid Balance:</strong> ${recentData.fluids}\n`;
            if (interventions.length > 0) {
                output += `<strong>Interventions Prior to Arrival:</strong> ${interventions.map(i => i.replace(/-/g, ' ')).join(', ')}\n`;
            }
            if (medsGiven) output += `<strong>Medications/Fluids Given:</strong> ${medsGiven}\n`;
            if (response) output += `<strong>Response to Interventions:</strong> ${response}\n`;
            output += `\n`;
            
            // DIFFERENTIAL DIAGNOSIS
            output += `<strong style="color: #e74c3c; font-size: 11pt;">üîç RANKED DIFFERENTIAL DIAGNOSIS</strong>\n`;
            output += `${'‚ïê'.repeat(70)}\n`;
            if (sortedDiff.length > 0) {
                sortedDiff.forEach((item, idx) => {
                    const likelihood = item[1].score > 20 ? 'HIGH' : item[1].score > 10 ? 'MODERATE' : 'POSSIBLE';
                    const color = item[1].score > 20 ? '#e74c3c' : item[1].score > 10 ? '#f39c12' : '#95a5a6';
                    output += `  ${idx + 1}. <a href="${item[1].link}" style="color: #0366d6; text-decoration: none; font-weight: 600;">${item[1].name}</a>`;
                    output += ` <span style="color: ${color}; font-weight: bold;">[${likelihood} - Score: ${item[1].score}]</span>\n`;
                });
            } else {
                output += `  <span style="color: #e74c3c;">‚ö† Unable to generate differential - please enter more clinical data</span>\n`;
            }
            output += `\n`;
            
            // CRITICAL ACTIONS
            output += `<strong style="color: #e74c3c; font-size: 11pt;">üö® IMMEDIATE CRITICAL ACTIONS</strong>\n`;
            output += `${'‚ïê'.repeat(70)}\n`;
            const criticalActions = [];
            
            // Airway/Breathing
            if (airway.includes('needs-support') || disability.gcs && disability.gcs < 9) {
                criticalActions.push('üî¥ AIRWAY PROTECTION - Consider intubation, call anesthesia/ICU');
            }
            if (breathing.includes('apneic-episodes') || vitals.rr && vitals.rr < 8) {
                criticalActions.push('üî¥ ASSIST VENTILATION - Bag-valve-mask, prepare for intubation');
            }
            if (vitals.spo2 && vitals.spo2 < 90) {
                criticalActions.push('üî¥ SUPPLEMENTAL O2 - Non-rebreather or high-flow, consider NIPPV');
            }
            if (breathing.includes('wheezing')) {
                criticalActions.push('‚Ä¢ Albuterol/ipratropium nebs, consider steroids');
            }
            
            // Circulation
            if (vitals.sbp && vitals.sbp < 90) {
                criticalActions.push('üî¥ IV ACCESS (2 large bore) + AGGRESSIVE FLUID RESUSCITATION');
                criticalActions.push('‚Ä¢ Determine shock etiology: septic vs cardiogenic vs hypovolemic vs distributive');
            }
            if (vitals.hr && vitals.hr > 150) {
                criticalActions.push('‚Ä¢ STAT ECG, consider ACLS protocols if unstable');
            }
            if (circulation.includes('cyanotic') || circulation.includes('mottled')) {
                criticalActions.push('üî¥ Assess perfusion, consider early ICU consultation');
            }
            
            // Neurologic
            if (neuro.includes('seizure-activity')) {
                criticalActions.push('üî¥ Lorazepam 2-4mg IV, protect airway, glucose check');
            }
            if (neuro.includes('focal-deficit') || disability.mentalStatus === 'Unresponsive') {
                criticalActions.push('üî¥ STAT CT head, stroke alert if <24hr onset, neurology consult');
            }
            if (recentData.glucose && (parseInt(recentData.glucose) < 70 || parseInt(recentData.glucose) > 400)) {
                criticalActions.push('‚Ä¢ Address glycemic emergency (D50 if hypoglycemic, insulin if DKA/HHS)');
            }
            
            // Based on activation reason
            if (patientData.activationReason === 'Chest pain') {
                criticalActions.push('‚Ä¢ ECG, troponin, aspirin 325mg, consider ACS protocol');
            }
            if (vitals.temp && vitals.temp > 100.4 || patientData.activationReason.includes('fever')) {
                criticalActions.push('‚Ä¢ Blood cultures √ó 2, empiric antibiotics if sepsis suspected');
            }
            
            // Universal
            criticalActions.push('‚Ä¢ Continuous monitoring (telemetry, pulse ox)');
            criticalActions.push('‚Ä¢ Call for help: attending, ICU team, or RRT escalation as needed');
            criticalActions.push('‚Ä¢ Ensure code cart at bedside');
            
            criticalActions.forEach(action => output += `${action}\n`);
            output += `\n`;
            
            // DISPOSITION & COMMUNICATION
            output += `<strong style="color: #0c5460;">üß≠ DISPOSITION & COMMUNICATION</strong>\n`;
            output += `${'‚îÄ'.repeat(70)}\n`;
            output += `<strong>Initial Plan:</strong> ${disposition || 'To be determined'}\n`;
            if (teamComm) output += `<strong>Team Communication:</strong>\n${teamComm}\n`;
            output += `\n`;
            
            // ADDITIONAL NOTES
            if (notes) {
                output += `<strong>üìù ADDITIONAL CLINICAL NOTES</strong>\n`;
                output += `${'‚îÄ'.repeat(70)}\n`;
                output += `${notes}\n\n`;
            }
            
            output += `${'‚ïê'.repeat(70)}\n`;
            output += `<em style="color: #666; font-size: 8pt;">This assessment is a clinical decision support tool. Always use clinical judgment.\nReview and verify all data. Update assessment as patient condition changes.</em>\n`;
            output += `</div>`;
            
            document.getElementById('rr-output').innerHTML = output;
            document.getElementById('rr-results').style.display = 'block';
            document.getElementById('rr-results').scrollIntoView({ behavior: 'smooth' });
        }
        
        function saveRapidResponse() {
            const data = {
                timestamp: new Date().toISOString(),
                name: document.getElementById('rr-name').value,
                mrn: document.getElementById('rr-mrn').value,
                code: document.getElementById('rr-code').value,
                assessment: document.getElementById('rr-output').innerHTML
            };
            
            let saved = JSON.parse(localStorage.getItem('rapidResponses') || '[]');
            saved.unshift(data);
            if (saved.length > 50) saved = saved.slice(0, 50);
            localStorage.setItem('rapidResponses', JSON.stringify(saved));
            alert('‚úì Assessment saved successfully!');
        }
        
        function viewSavedResponses() {
            const saved = JSON.parse(localStorage.getItem('rapidResponses') || '[]');
            const container = document.getElementById('saved-list');
            
            if (saved.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">No saved assessments yet.</p>';
            } else {
                let html = '';
                saved.forEach((item, idx) => {
                    const date = new Date(item.timestamp).toLocaleString();
                    html += `<div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #3498db;">`;
                    html += `<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">`;
                    html += `<div><strong>${item.name || 'Unknown Patient'}</strong> | MRN: ${item.mrn || 'N/A'} | ${date}</div>`;
                    html += `<div>`;
                    html += `<button onclick="loadSavedResponse(${idx})" style="background: #27ae60; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; margin-right: 5px;">View</button>`;
                    html += `<button onclick="deleteSavedResponse(${idx})" style="background: #e74c3c; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer;">Delete</button>`;
                    html += `</div></div>`;
                    html += `<div style="font-size: 9pt; color: #666;">Code: ${item.code}</div>`;
                    html += `</div>`;
                });
                container.innerHTML = html;
            }
            
            document.getElementById('saved-modal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
        
        function closeSavedResponses() {
            document.getElementById('saved-modal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        function loadSavedResponse(idx) {
            const saved = JSON.parse(localStorage.getItem('rapidResponses') || '[]');
            if (saved[idx]) {
                document.getElementById('rr-output').innerHTML = saved[idx].assessment;
                document.getElementById('rr-results').style.display = 'block';
                closeSavedResponses();
                openRapidResponse();
                document.getElementById('rr-results').scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        function deleteSavedResponse(idx) {
            if (confirm('Delete this assessment?')) {
                let saved = JSON.parse(localStorage.getItem('rapidResponses') || '[]');
                saved.splice(idx, 1);
                localStorage.setItem('rapidResponses', JSON.stringify(saved));
                viewSavedResponses();
            }
        }
        
        function printAssessment() {
            const content = document.getElementById('rr-output').innerHTML;
            const printWindow = window.open('', '', 'width=800,height=600');
            printWindow.document.write('<html><head><title>Rapid Response Assessment</title>');
            printWindow.document.write('<style>body { font-family: "Courier New", monospace; font-size: 10pt; padding: 20px; }</style>');
            printWindow.document.write('</head><body>');
            printWindow.document.write(content);
            printWindow.document.write('
    
    <!-- GLASS HEALTH SECTION -->
    <div id="glass-section" style="display: none; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; margin: 20px auto; max-width: 1560px;">
        <h3 style="color: white; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 10px; margin-bottom: 15px;">ü§ñ Glass Health AI - Differential Diagnosis</h3>
        <p style="font-size: 11pt; margin-bottom: 15px;"><strong>Clinical summary copied to clipboard!</strong></p>
        <p style="font-size: 10pt; line-height: 1.6;">Now click below to open Glass Health in a new tab, then paste the copied summary. Glass AI will generate an evidence-based differential diagnosis with assessment and plan recommendations.</p>
        <div style="margin-top: 15px;">
            <a href="https://glass.health" target="_blank" style="background: white; color: #667eea; text-decoration: none; padding: 12px 24px; border-radius: 6px; font-weight: bold; display: inline-block; margin-right: 10px;">
                Open Glass Health AI ‚Üí
            </a>
            <button onclick="copyForGlass()" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 12px 24px; border-radius: 6px; font-weight: bold; cursor: pointer;">
                üìã Copy Again
            </button>
        </div>
    </div>
</body></html>');
            printWindow.document.close();
            printWindow.print();
        }
        
        function copyNote() {
            const output = document.getElementById('rr-output');
            const text = output.innerText;
            
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úì Note copied to clipboard!');
            }).catch(err => {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('‚úì Note copied to clipboard!');
            });
        }
    

    function copyForGlass() {
        // Build Glass Health-formatted summary from the generated assessment
        const outputText = document.getElementById('rr-output').innerText;
        
        const glassPrompt = `${outputText}

CLINICAL QUESTION FOR GLASS HEALTH AI:
Based on this rapid response assessment, please provide:
1. Comprehensive differential diagnosis ranked by likelihood
2. Recommended diagnostic workup and tests
3. Evidence-based treatment recommendations  
4. Disposition recommendations (floor vs step-down vs ICU)
5. Key clinical pearls and red flags to monitor`;

        navigator.clipboard.writeText(glassPrompt).then(() => {
            document.getElementById('glass-section').style.display = 'block';
            document.getElementById('glass-section').scrollIntoView({ behavior: 'smooth' });
        }).catch(err => {
            const textarea = document.createElement('textarea');
            textarea.value = glassPrompt;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            document.getElementById('glass-section').style.display = 'block';
            document.getElementById('glass-section').scrollIntoView({ behavior: 'smooth' });
        });
    }
</script>
    
    
    <!-- COMPREHENSIVE RAPID RESPONSE TOOL MODAL -->



    function copyForGlass() {
        // Build Glass Health-formatted summary from the generated assessment
        const outputText = document.getElementById('rr-output').innerText;
        
        const glassPrompt = `${outputText}

CLINICAL QUESTION FOR GLASS HEALTH AI:
Based on this rapid response assessment, please provide:
1. Comprehensive differential diagnosis ranked by likelihood
2. Recommended diagnostic workup and tests
3. Evidence-based treatment recommendations  
4. Disposition recommendations (floor vs step-down vs ICU)
5. Key clinical pearls and red flags to monitor`;

        navigator.clipboard.writeText(glassPrompt).then(() => {
            document.getElementById('glass-section').style.display = 'block';
            document.getElementById('glass-section').scrollIntoView({ behavior: 'smooth' });
        }).catch(err => {
            const textarea = document.createElement('textarea');
            textarea.value = glassPrompt;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            document.getElementById('glass-section').style.display = 'block';
            document.getElementById('glass-section').scrollIntoView({ behavior: 'smooth' });
        });
    }
</script>

    
    <!-- GLASS HEALTH SECTION -->
    <div id="glass-section" style="display: none; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; margin: 20px auto; max-width: 1560px;">
        <h3 style="color: white; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 10px; margin-bottom: 15px;">ü§ñ Glass Health AI - Differential Diagnosis</h3>
        <p style="font-size: 11pt; margin-bottom: 15px;"><strong>Clinical summary copied to clipboard!</strong></p>
        <p style="font-size: 10pt; line-height: 1.6;">Now click below to open Glass Health in a new tab, then paste the copied summary. Glass AI will generate an evidence-based differential diagnosis with assessment and plan recommendations.</p>
        <div style="margin-top: 15px;">
            <a href="https://glass.health" target="_blank" style="background: white; color: #667eea; text-decoration: none; padding: 12px 24px; border-radius: 6px; font-weight: bold; display: inline-block; margin-right: 10px;">
                Open Glass Health AI ‚Üí
            </a>
            <button onclick="copyForGlass()" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 12px 24px; border-radius: 6px; font-weight: bold; cursor: pointer;">
                üìã Copy Again
            </button>
        </div>
    </div>
</body>
</html>